GLOB sdist-make: /code/modules/invenio-oaiharvester/setup.py
c1 recreate: /code/modules/invenio-oaiharvester/.tox/c1
c1 installdeps: pytest>=3, pytest-cov, -rrequirements.txt
c1 inst: /code/modules/invenio-oaiharvester/.tox/.tmp/package/1/invenio-oaiharvester-1.0.0a4.dev20171205.zip
c1 installed: alabaster==0.7.13,alembic==0.9.6,amqp==2.6.1,angular-gettext-babel==0.3,aniso8601==8.0.0,arrow==0.12.1,asn1crypto==0.23.0,attrs==17.4.0,b2handle==1.1.2,Babel==2.5.1,bagit==1.7.0,beautifulsoup4==4.9.3,bibtexparser==1.0.1,billiard==3.6.3.0,binaryornot==0.4.4,bleach==3.1.0,blinker==1.4,boto3==1.7.84,botocore==1.10.84,cachelib==0.1,cachetools==4.2.4,cchardet==2.1.1,celery==4.4.7,certifi==2017.11.5,cffi==1.11.2,chardet==3.0.4,citeproc-py==0.5.1,citeproc-py-styles==0.1.2,click==8.0.4,cookiecutter==1.6.0,counter-robots==2018.6,coverage==6.2,cryptography==2.1.4,datacite==1.0.1,DateTime==4.9,decorator==4.1.2,defusedxml==0.5.0,dictdiffer==0.7.0,dnspython==2.2.1,docutils==0.18.1,dojson==1.3.2,elasticsearch==6.1.1,elasticsearch-dsl==6.4.0,elementpath==1.0.6,email-validator==1.0.5,entrypoints==0.2.3,feedgen==0.7.0,Flask==1.0.4,Flask-Admin==1.5.3,Flask-Alembic==2.0.1,Flask-Assets==0.12,Flask-BabelEx==0.9.4,Flask-Breadcrumbs==0.5.0,Flask-Caching==1.3.3,Flask-CeleryExt==0.3.4,Flask-Collect==1.2.2,Flask-Cors==3.0.3,Flask-DebugToolbar==0.11.0,Flask-IIIF==0.6.1,Flask-KVSession==0.6.2,Flask-Limiter==1.1.0,Flask-Login==0.4.1,Flask-Mail==0.9.1,flask-marshmallow==0.14.0,Flask-Menu==0.6.0,Flask-OAuthlib==0.9.5,Flask-Plugins==1.6.1,Flask-Principal==0.4.0,Flask-RESTful==0.3.8,Flask-Security==3.0.0,flask-shell-ipython==0.4.1,Flask-Sitemap==0.1.0,Flask-SQLAlchemy==2.3.2,flask-talisman==0.4.1,Flask-WTF==0.14.3,-e git+https://github.com/RCOSDP/pyfpdf.git@f9b032148283d535cabc7789858081c80de36fef#egg=fpdf,frozendict==2.3.6,fs==0.5.4,ftfy==4.4.3,future==0.16.0,github3.py==1.1.0,html5lib==1.0.1,idna==2.6,iiif-prezi==0.3.0,imagesize==1.4.1,importlib-metadata==4.8.3,importlib-resources==5.4.0,infinity==1.4,iniconfig==1.1.1,intervals==0.8.0,invenio-access==1.1.0,-e git+https://github.com/RCOSDP/weko.git@76430b4c7fb0c43f0e7c651235e280a7adbcc333#egg=invenio_accounts&subdirectory=modules/invenio-accounts,invenio-admin==1.1.2,invenio-app==1.1.0,invenio-assets==1.0.0,invenio-base==1.0.2,invenio-cache==1.0.0,invenio-celery==1.1.3,-e git+https://github.com/RCOSDP/weko.git@76430b4c7fb0c43f0e7c651235e280a7adbcc333#egg=invenio_communities&subdirectory=modules/invenio-communities,invenio-config==1.0.0,invenio-csl-rest==1.0.0a1,-e git+https://github.com/RCOSDP/weko.git@76430b4c7fb0c43f0e7c651235e280a7adbcc333#egg=invenio_db&subdirectory=modules/invenio-db,-e git+https://github.com/RCOSDP/weko.git@76430b4c7fb0c43f0e7c651235e280a7adbcc333#egg=invenio_deposit&subdirectory=modules/invenio-deposit,-e git+https://github.com/RCOSDP/weko.git@76430b4c7fb0c43f0e7c651235e280a7adbcc333#egg=invenio_files_rest&subdirectory=modules/invenio-files-rest,invenio-formatter==1.0.0b3,invenio-i18n==1.0.0,-e git+https://github.com/RCOSDP/weko.git@76430b4c7fb0c43f0e7c651235e280a7adbcc333#egg=invenio_iiif&subdirectory=modules/invenio-iiif,-e git+https://github.com/RCOSDP/weko.git@76430b4c7fb0c43f0e7c651235e280a7adbcc333#egg=invenio_indexer&subdirectory=modules/invenio-indexer,invenio-jsonschemas==1.0.0,invenio-logging==1.0.0b3,-e git+https://github.com/RCOSDP/weko.git@76430b4c7fb0c43f0e7c651235e280a7adbcc333#egg=invenio_mail&subdirectory=modules/invenio-mail,invenio-marc21==1.0.0a8,invenio-oaiharvester @ file:///code/modules/invenio-oaiharvester/.tox/.tmp/package/1/invenio-oaiharvester-1.0.0a4.dev20171205.zip,-e git+https://github.com/RCOSDP/weko.git@76430b4c7fb0c43f0e7c651235e280a7adbcc333#egg=invenio_oaiserver&subdirectory=modules/invenio-oaiserver,-e git+https://github.com/RCOSDP/weko.git@76430b4c7fb0c43f0e7c651235e280a7adbcc333#egg=invenio_oauth2server&subdirectory=modules/invenio-oauth2server,invenio-oauthclient==1.0.0,invenio-pidrelations==1.0.0a4,invenio-pidstore==1.0.0,-e git+https://github.com/RCOSDP/weko.git@76430b4c7fb0c43f0e7c651235e280a7adbcc333#egg=invenio_previewer&subdirectory=modules/invenio-previewer,invenio-query-parser==0.6.0,-e git+https://github.com/RCOSDP/weko.git@76430b4c7fb0c43f0e7c651235e280a7adbcc333#egg=invenio_queues&subdirectory=modules/invenio-queues,-e git+https://github.com/RCOSDP/weko.git@76430b4c7fb0c43f0e7c651235e280a7adbcc333#egg=invenio_records&subdirectory=modules/invenio-records,invenio-records-files==1.0.0a10,-e git+https://github.com/RCOSDP/weko.git@76430b4c7fb0c43f0e7c651235e280a7adbcc333#egg=invenio_records_rest&subdirectory=modules/invenio-records-rest,invenio-records-ui==1.0.0,-e git+https://github.com/RCOSDP/weko.git@76430b4c7fb0c43f0e7c651235e280a7adbcc333#egg=invenio_resourcesyncclient&subdirectory=modules/invenio-resourcesyncclient,-e git+https://github.com/RCOSDP/weko.git@76430b4c7fb0c43f0e7c651235e280a7adbcc333#egg=invenio_resourcesyncserver&subdirectory=modules/invenio-resourcesyncserver,invenio-rest==1.1.2,-e git+https://github.com/RCOSDP/weko.git@76430b4c7fb0c43f0e7c651235e280a7adbcc333#egg=invenio_s3&subdirectory=modules/invenio-s3,invenio-search==1.1.0,invenio-search-ui==1.0.0a9,-e git+https://github.com/RCOSDP/weko.git@76430b4c7fb0c43f0e7c651235e280a7adbcc333#egg=invenio_stats&subdirectory=modules/invenio-stats,invenio-theme==1.0.0b4,ipaddress==1.0.19,ipython==6.2.1,ipython-genutils==0.2.0,itsdangerous==0.24,jedi==0.11.0,Jinja2==2.10,jinja2-cli==0.6.0,jinja2-time==0.2.0,jmespath==0.10.0,jsmin==2.2.2,jsonpatch==1.21,jsonpath-ng==1.5.2,jsonpointer==1.14,jsonref==0.1,jsonresolver==0.2.1,jsonschema==2.6.0,jupyter-client==5.2.2,jupyter-core==4.4.0,kombu==4.6.10,limits==1.2.1,lxml==4.1.1,Mako==1.0.7,MarkupSafe==1.1.1,marshmallow==2.20.1,marshmallow-sqlalchemy==0.23.1,maxminddb==1.5.2,maxminddb-geolite2==2017.803,mistune==0.8.3,mock==3.0.5,more-itertools==8.10.0,msgpack==0.6.2,nbconvert==5.3.1,nbformat==4.4.0,netaddr==0.8.0,node-semver==0.1.1,numpy==1.16.1,oauthlib==2.1.0,ordereddict==1.1,packaging==21.3,pandocfilters==1.4.2,parso==0.1.0,passlib==1.7.1,pexpect==4.3.0,pickleshare==0.7.4,Pillow==5.4.1,pluggy==0.13.1,ply==3.11,poyo==0.4.1,prompt-toolkit==1.0.15,psycopg2==2.7.3.2,ptyprocess==0.5.2,py==1.11.0,pycparser==2.18,Pygments==2.2.0,PyJWT==1.5.3,PyLD==2.0.3,pyparsing==3.0.9,-e git+https://github.com/RCOSDP/PyPDF2.git@fefc684a3a74aff6f99e5dff24f9b4dd1c95169d#egg=PyPDF2,pyPEG2==2.15.2,pytest==6.1.2,pytest-cov==4.0.0,pytest-mock==3.6.1,python-dateutil==2.6.1,python-editor==1.0.3,python-geoip==1.2,pytz==2017.3,pyzmq==17.0.0,redis==2.10.6,requests==2.18.4,requests-oauthlib==1.1.0,responses==0.10.15,resync==1.0.9,s3fs==0.1.6,s3transfer==0.1.13,Sickle==0.6.4,simplegeneric==0.8.1,simplejson==3.12.0,simplekv==0.11.2,six==1.12.0,snowballstemmer==2.2.0,soupsieve==2.3.2.post1,speaklater==1.3,Sphinx==1.8.4,sphinxcontrib-serializinghtml==1.1.5,sphinxcontrib-websupport==1.2.4,SQLAlchemy==1.2.19,SQLAlchemy-Continuum==1.3.6,SQLAlchemy-Utils==0.35.0,testpath==0.3.1,toml==0.10.2,tomli==1.2.3,tornado==4.5.3,traitlets==4.3.2,typing_extensions==4.1.1,ua-parser==0.7.3,uritemplate==4.1.1,uritools==2.1.0,urllib3==1.22,validators==0.12.0,vine==1.3.0,Wand==0.6.1,wcwidth==0.1.7,webargs==5.5.2,webassets==0.12.1,webencodings==0.5.1,-e git+https://github.com/RCOSDP/weko.git@76430b4c7fb0c43f0e7c651235e280a7adbcc333#egg=weko_accounts&subdirectory=modules/weko-accounts,-e git+https://github.com/RCOSDP/weko.git@76430b4c7fb0c43f0e7c651235e280a7adbcc333#egg=weko_admin&subdirectory=modules/weko-admin,-e git+https://github.com/RCOSDP/weko.git@76430b4c7fb0c43f0e7c651235e280a7adbcc333#egg=weko_authors&subdirectory=modules/weko-authors,-e git+https://github.com/RCOSDP/weko.git@76430b4c7fb0c43f0e7c651235e280a7adbcc333#egg=weko_bulkupdate&subdirectory=modules/weko-bulkupdate,-e git+https://github.com/RCOSDP/weko.git@76430b4c7fb0c43f0e7c651235e280a7adbcc333#egg=weko_deposit&subdirectory=modules/weko-deposit,-e git+https://github.com/RCOSDP/weko.git@76430b4c7fb0c43f0e7c651235e280a7adbcc333#egg=weko_gridlayout&subdirectory=modules/weko-gridlayout,-e git+https://github.com/RCOSDP/weko.git@76430b4c7fb0c43f0e7c651235e280a7adbcc333#egg=weko_groups&subdirectory=modules/weko-groups,-e git+https://github.com/RCOSDP/weko.git@76430b4c7fb0c43f0e7c651235e280a7adbcc333#egg=weko_handle&subdirectory=modules/weko-handle,-e git+https://github.com/RCOSDP/weko.git@76430b4c7fb0c43f0e7c651235e280a7adbcc333#egg=weko_index_tree&subdirectory=modules/weko-index-tree,-e git+https://github.com/RCOSDP/weko.git@76430b4c7fb0c43f0e7c651235e280a7adbcc333#egg=weko_indextree_journal&subdirectory=modules/weko-indextree-journal,-e git+https://github.com/RCOSDP/weko.git@76430b4c7fb0c43f0e7c651235e280a7adbcc333#egg=weko_items_autofill&subdirectory=modules/weko-items-autofill,-e git+https://github.com/RCOSDP/weko.git@76430b4c7fb0c43f0e7c651235e280a7adbcc333#egg=weko_items_ui&subdirectory=modules/weko-items-ui,-e git+https://github.com/RCOSDP/weko.git@76430b4c7fb0c43f0e7c651235e280a7adbcc333#egg=weko_itemtypes_ui&subdirectory=modules/weko-itemtypes-ui,-e git+https://github.com/RCOSDP/weko.git@76430b4c7fb0c43f0e7c651235e280a7adbcc333#egg=weko_logging&subdirectory=modules/weko-logging,-e git+https://github.com/RCOSDP/weko.git@76430b4c7fb0c43f0e7c651235e280a7adbcc333#egg=weko_records&subdirectory=modules/weko-records,-e git+https://github.com/RCOSDP/weko.git@76430b4c7fb0c43f0e7c651235e280a7adbcc333#egg=weko_records_ui&subdirectory=modules/weko-records-ui,-e git+https://github.com/RCOSDP/weko.git@76430b4c7fb0c43f0e7c651235e280a7adbcc333#egg=weko_redis&subdirectory=modules/weko-redis,-e git+https://github.com/RCOSDP/weko.git@76430b4c7fb0c43f0e7c651235e280a7adbcc333#egg=weko_schema_ui&subdirectory=modules/weko-schema-ui,-e git+https://github.com/RCOSDP/weko.git@76430b4c7fb0c43f0e7c651235e280a7adbcc333#egg=weko_search_ui&subdirectory=modules/weko-search-ui,-e git+https://github.com/RCOSDP/weko.git@76430b4c7fb0c43f0e7c651235e280a7adbcc333#egg=weko_sitemap&subdirectory=modules/weko-sitemap,-e git+https://github.com/RCOSDP/weko.git@76430b4c7fb0c43f0e7c651235e280a7adbcc333#egg=weko_theme&subdirectory=modules/weko-theme,-e git+https://github.com/RCOSDP/weko.git@76430b4c7fb0c43f0e7c651235e280a7adbcc333#egg=weko_user_profiles&subdirectory=modules/weko-user-profiles,-e git+https://github.com/RCOSDP/weko.git@76430b4c7fb0c43f0e7c651235e280a7adbcc333#egg=weko_workflow&subdirectory=modules/weko-workflow,Werkzeug==0.15.2,whichcraft==0.4.1,WTForms==2.1,WTForms-Alchemy==0.16.5,WTForms-Components==0.10.3,xmlschema==0.9.30,xmltodict==0.12.0,zipp==3.6.0,zope.interface==5.5.2
c1 run-test-pre: PYTHONHASHSEED='4263788759'
c1 run-test: commands[0] | pytest --cov=invenio_oaiharvester tests -v --cov-branch --cov-report=term --cov-report=xml --basetemp=/code/modules/invenio-oaiharvester/.tox/c1/tmp
============================= test session starts ==============================
platform linux -- Python 3.6.15, pytest-6.1.2, py-1.11.0, pluggy-0.13.1 -- /code/modules/invenio-oaiharvester/.tox/c1/bin/python
cachedir: .tox/c1/.pytest_cache
rootdir: /code/modules/invenio-oaiharvester
plugins: cov-4.0.0, celery-4.4.7, mock-3.6.1
collecting ... collected 117 items

tests/test_admin.py::test_admin PASSED                                   [  0%]
tests/test_admin.py::test_run_stats PASSED                               [  1%]
tests/test_admin.py::test_control_btns PASSED                            [  2%]
tests/test_admin.py::TestHarvestSettingView::test_run PASSED             [  3%]
tests/test_admin.py::TestHarvestSettingView::test_pause PASSED           [  4%]
tests/test_admin.py::TestHarvestSettingView::test_clear PASSED           [  5%]
tests/test_admin.py::TestHarvestSettingView::test_get_logs PASSED        [  5%]
tests/test_admin.py::TestHarvestSettingView::test_get_log_detail PASSED  [  6%]
tests/test_admin.py::TestHarvestSettingView::test_set_schedule PASSED    [  7%]
tests/test_api.py::test_list_records PASSED                              [  8%]
tests/test_api.py::test_get_records PASSED                               [  9%]
tests/test_api.py::test_get_info_by_oai_name PASSED                      [ 10%]
tests/test_api.py::test_send_run_status_mail PASSED                      [ 11%]
tests/test_cli.py::test_cli_harvest_idents PASSED                        [ 11%]
tests/test_cli.py::test_cli_harvest_list PASSED                          [ 12%]
tests/test_harvester.py::test_list_sets PASSED                           [ 13%]
tests/test_harvester.py::test_list_records PASSED                        [ 14%]
tests/test_harvester.py::test_map_field PASSED                           [ 15%]
tests/test_harvester.py::test_subitem_recs PASSED                        [ 16%]
tests/test_harvester.py::test_parsing_metadata PASSED                    [ 17%]
tests/test_harvester.py::test_add_title PASSED                           [ 17%]
tests/test_harvester.py::test_add_alternative PASSED                     [ 18%]
tests/test_harvester.py::test_add_creator_jpcoar PASSED                  [ 19%]
tests/test_harvester.py::test_add_contributor_jpcoar PASSED              [ 20%]
tests/test_harvester.py::test_add_access_right PASSED                    [ 21%]
tests/test_harvester.py::test_add_apc PASSED                             [ 22%]
tests/test_harvester.py::test_add_right PASSED                           [ 23%]
tests/test_harvester.py::test_add_subject PASSED                         [ 23%]
tests/test_harvester.py::test_add_description PASSED                     [ 24%]
tests/test_harvester.py::test_add_publisher PASSED                       [ 25%]
tests/test_harvester.py::test_add_date PASSED                            [ 26%]
tests/test_harvester.py::test_add_language PASSED                        [ 27%]
tests/test_harvester.py::test_add_version PASSED                         [ 28%]
tests/test_harvester.py::test_add_version_type PASSED                    [ 29%]
tests/test_harvester.py::test_add_identifier_registration PASSED         [ 29%]
tests/test_harvester.py::test_add_temporal PASSED                        [ 30%]
tests/test_harvester.py::test_add_source_identifier PASSED               [ 31%]
tests/test_harvester.py::test_add_file PASSED                            [ 32%]
tests/test_harvester.py::test_add_identifier PASSED                      [ 33%]
tests/test_harvester.py::test_add_source_title PASSED                    [ 34%]
tests/test_harvester.py::test_add_volume PASSED                          [ 35%]
tests/test_harvester.py::test_add_issue PASSED                           [ 35%]
tests/test_harvester.py::test_add_num_page PASSED                        [ 36%]
tests/test_harvester.py::test_add_page_start PASSED                      [ 37%]
tests/test_harvester.py::test_add_page_end PASSED                        [ 38%]
tests/test_harvester.py::test_add_dissertation_number PASSED             [ 39%]
tests/test_harvester.py::test_add_date_granted PASSED                    [ 40%]
tests/test_harvester.py::test_add_conference PASSED                      [ 41%]
tests/test_harvester.py::test_add_degree_grantor PASSED                  [ 41%]
tests/test_harvester.py::test_add_degree_name PASSED                     [ 42%]
tests/test_harvester.py::test_add_funding_reference PASSED               [ 43%]
tests/test_harvester.py::test_add_geo_location PASSED                    [ 44%]
tests/test_harvester.py::test_add_relation PASSED                        [ 45%]
tests/test_harvester.py::test_add_rights_holder PASSED                   [ 46%]
tests/test_harvester.py::test_add_resource_type PASSED                   [ 47%]
tests/test_harvester.py::test_add_creator_dc PASSED                      [ 47%]
tests/test_harvester.py::test_add_data_by_key PASSED                     [ 48%]
tests/test_harvester.py::test_add_source_dc PASSED                       [ 49%]
tests/test_harvester.py::test_add_coverage_dc PASSED                     [ 50%]
tests/test_harvester.py::test_add_format_dc PASSED                       [ 51%]
tests/test_harvester.py::test_add_contributor_dc PASSED                  [ 52%]
tests/test_harvester.py::test_add_relation_dc PASSED                     [ 52%]
tests/test_harvester.py::test_add_rights_dc PASSED                       [ 53%]
tests/test_harvester.py::test_add_identifier_dc PASSED                   [ 54%]
tests/test_harvester.py::test_add_description_dc PASSED                  [ 55%]
tests/test_harvester.py::test_add_subject_dc PASSED                      [ 56%]
tests/test_harvester.py::test_add_title_dc PASSED                        [ 57%]
tests/test_harvester.py::test_add_language_dc PASSED                     [ 58%]
tests/test_harvester.py::test_add_date_dc PASSED                         [ 58%]
tests/test_harvester.py::test_add_publisher_dc PASSED                    [ 59%]
tests/test_harvester.py::test_add_resource_type_dc PASSED                [ 60%]
tests/test_harvester.py::test_to_dict PASSED                             [ 61%]
tests/test_harvester.py::test_map_sets PASSED                            [ 62%]
tests/test_harvester.py::TestBaseMapper::test_init PASSED                [ 63%]
tests/test_harvester.py::TestBaseMapper::test_map_itemtype PASSED        [ 64%]
tests/test_harvester.py::TestDCMapper::test_init PASSED                  [ 64%]
tests/test_harvester.py::TestDCMapper::test_map PASSED                   [ 65%]
tests/test_harvester.py::TestJPCOARMapper::test_init PASSED              [ 66%]
tests/test_harvester.py::TestJPCOARMapper::test_map PASSED               [ 67%]
tests/test_harvester.py::TestDDIMapper::test_init PASSED                 [ 68%]
tests/test_harvester.py::TestDDIMapper::test_ddi_harvest_processing PASSED [ 69%]
tests/test_harvester.py::TestDDIMapper::test_map PASSED                  [ 70%]
tests/test_harvesting.py::test_model_based_harvesting PASSED             [ 70%]
tests/test_harvesting.py::test_model_based_utf8_harvesting PASSED        [ 71%]
tests/test_harvesting.py::test_model_based_harvesting_list PASSED        [ 72%]
tests/test_harvesting.py::test_raise_missing_info PASSED                 [ 73%]
tests/test_harvesting.py::test_raise_wrong_date PASSED                   [ 74%]
tests/test_harvesting.py::test_list_records PASSED                       [ 75%]
tests/test_harvesting.py::test_list_no_records PASSED                    [ 76%]
tests/test_harvesting.py::test_get_from_identifiers PASSED               [ 76%]
tests/test_harvesting.py::test_get_from_identifiers_with_prefix PASSED   [ 77%]
tests/test_harvesting.py::test_harvester_list_sets SKIPPED               [ 78%]
tests/test_harvesting.py::test_harvester_list_records SKIPPED            [ 79%]
tests/test_invenio_oaiharvester.py::test_version PASSED                  [ 80%]
tests/test_invenio_oaiharvester.py::test_init PASSED                     [ 81%]
tests/test_tasks.py::test_get_specific_records PASSED                    [ 82%]
tests/test_tasks.py::test_list_records_from_dates PASSED                 [ 82%]
tests/test_tasks.py::test_create_indexes PASSED                          [ 83%]
tests/test_tasks.py::test_map_indexes PASSED                             [ 84%]
tests/test_tasks.py::test_event_counter PASSED                           [ 85%]
tests/test_tasks.py::test_process_item PASSED                            [ 86%]
tests/test_tasks.py::test_link_success_handler PASSED                    [ 87%]
tests/test_tasks.py::test_link_error_handler PASSED                      [ 88%]
tests/test_tasks.py::test_is_harvest_running PASSED                      [ 88%]
tests/test_tasks.py::test_run_harvesting PASSED                          [ 89%]
tests/test_tasks.py::test_check_schedules_and_run PASSED                 [ 90%]
tests/test_utils.py::test_identifier_extraction_from_string PASSED       [ 91%]
tests/test_utils.py::test_records_extraction_without_namespace PASSED    [ 92%]
tests/test_utils.py::test_records_extraction_with_namespace_getrecord PASSED [ 93%]
tests/test_utils.py::test_records_extraction_with_namespace_listrecords PASSED [ 94%]
tests/test_utils.py::test_records_extraction_from_file PASSED            [ 94%]
tests/test_utils.py::test_identifier_filter PASSED                       [ 95%]
tests/test_utils.py::test_get_oaiharvest_object PASSED                   [ 96%]
tests/test_utils.py::test_check_or_create_dir PASSED                     [ 97%]
tests/test_utils.py::test_write_to_dir PASSED                            [ 98%]
tests/test_utils.py::test_create_file_name PASSED                        [ 99%]
tests/test_views.py::test_dbsession_clean PASSED                         [100%]

=============================== warnings summary ===============================
../invenio-indexer/invenio_indexer/cli.py:108
  /code/modules/invenio-indexer/invenio_indexer/cli.py:108: DeprecationWarning: 'resultcallback' has been renamed to 'result_callback'. The old name will be removed in Click 8.1.
    @queue.resultcallback()

.tox/c1/lib/python3.6/site-packages/flask_oauthlib/contrib/cache.py:3
  /code/modules/invenio-oaiharvester/.tox/c1/lib/python3.6/site-packages/flask_oauthlib/contrib/cache.py:3: DeprecationWarning: 'werkzeug.contrib.cache' is deprecated as of version 0.15 and will be removed in version 1.0. It has moved to https://github.com/pallets/cachelib.
    from werkzeug.contrib.cache import NullCache, SimpleCache, FileSystemCache

.tox/c1/lib/python3.6/site-packages/past/translation/__init__.py:35
  /code/modules/invenio-oaiharvester/.tox/c1/lib/python3.6/site-packages/past/translation/__init__.py:35: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses
    import imp

.tox/c1/src/pypdf2/PyPDF2/generic.py:348
  /code/modules/invenio-oaiharvester/.tox/c1/src/pypdf2/PyPDF2/generic.py:348: DeprecationWarning: invalid escape sequence \c
    b_("c") : b_("\c"),

tests/test_admin.py: 9 warnings
tests/test_api.py: 4 warnings
tests/test_cli.py: 2 warnings
tests/test_harvester.py: 61 warnings
tests/test_harvesting.py: 9 warnings
tests/test_tasks.py: 11 warnings
tests/test_utils.py: 8 warnings
tests/test_views.py: 1 warning
  /code/modules/invenio-oaiharvester/.tox/c1/lib/python3.6/site-packages/flask_celeryext/app.py:36: UserWarning: Celery v4 installed, but detected Celery v3 configuration CELERY_ALWAYS_EAGER (use CELERY_TASK_ALWAYS_EAGER instead).
    UserWarning

tests/test_admin.py: 9 warnings
tests/test_api.py: 4 warnings
tests/test_cli.py: 2 warnings
tests/test_harvester.py: 61 warnings
tests/test_harvesting.py: 9 warnings
tests/test_tasks.py: 11 warnings
tests/test_utils.py: 8 warnings
tests/test_views.py: 1 warning
  /code/modules/invenio-oaiharvester/.tox/c1/lib/python3.6/site-packages/flask_celeryext/app.py:36: UserWarning: Celery v4 installed, but detected Celery v3 configuration CELERY_EAGER_PROPAGATES_EXCEPTIONS (use CELERY_TASK_EAGER_PROPAGATES instead).
    UserWarning

tests/test_admin.py: 9 warnings
tests/test_api.py: 4 warnings
tests/test_cli.py: 2 warnings
tests/test_harvester.py: 61 warnings
tests/test_harvesting.py: 9 warnings
tests/test_tasks.py: 11 warnings
tests/test_utils.py: 8 warnings
tests/test_views.py: 1 warning
  /code/modules/invenio-oaiharvester/.tox/c1/lib/python3.6/site-packages/flask_sqlalchemy/__init__.py:794: FSADeprecationWarning: SQLALCHEMY_TRACK_MODIFICATIONS adds significant overhead and will be disabled by default in the future.  Set it to True or False to suppress this warning.
    'SQLALCHEMY_TRACK_MODIFICATIONS adds significant overhead and '

tests/test_admin.py::test_admin
  /code/modules/invenio-oaiharvester/.tox/c1/lib/python3.6/site-packages/flask/sessions.py:208: UserWarning: "TEST_SERVER" is not a valid cookie domain, it must contain a ".". Add an entry to your hosts file, for example "TEST_SERVER.localdomain", and use that instead.
    ' "{rv}.localdomain", and use that instead.'.format(rv=rv)

tests/test_admin.py::TestHarvestSettingView::test_pause
  /code/modules/invenio-oaiharvester/.tox/c1/lib/python3.6/site-packages/kombu/utils/compat.py:93: DeprecationWarning: SelectableGroups dict interface is deprecated. Use select.
    for ep in importlib_metadata.entry_points().get(namespace, [])

tests/test_harvester.py::TestDDIMapper::test_ddi_harvest_processing
  /code/modules/invenio-oaiharvester/.tox/c1/lib/python3.6/site-packages/bs4/__init__.py:424: MarkupResemblesLocatorWarning: "http://doi.org/test_doi" looks like a URL. Beautiful Soup is not an HTTP client. You should probably use an HTTP client like requests to get the document behind the URL, and feed that document to Beautiful Soup.
    MarkupResemblesLocatorWarning

tests/test_harvester.py::TestDDIMapper::test_ddi_harvest_processing
tests/test_tasks.py::test_process_item
  /code/modules/invenio-oaiharvester/.tox/c1/lib/python3.6/site-packages/bs4/__init__.py:424: MarkupResemblesLocatorWarning: "http://hdl.handle.net/test_doi" looks like a URL. Beautiful Soup is not an HTTP client. You should probably use an HTTP client like requests to get the document behind the URL, and feed that document to Beautiful Soup.
    MarkupResemblesLocatorWarning

tests/test_harvester.py::TestDDIMapper::test_ddi_harvest_processing
  /code/modules/invenio-oaiharvester/.tox/c1/lib/python3.6/site-packages/bs4/__init__.py:424: MarkupResemblesLocatorWarning: "http://other_prefix" looks like a URL. Beautiful Soup is not an HTTP client. You should probably use an HTTP client like requests to get the document behind the URL, and feed that document to Beautiful Soup.
    MarkupResemblesLocatorWarning

tests/test_tasks.py::test_process_item
  /code/modules/invenio-oaiharvester/.tox/c1/lib/python3.6/site-packages/bs4/__init__.py:424: MarkupResemblesLocatorWarning: "http://test.url.com" looks like a URL. Beautiful Soup is not an HTTP client. You should probably use an HTTP client like requests to get the document behind the URL, and feed that document to Beautiful Soup.
    MarkupResemblesLocatorWarning

tests/test_tasks.py::test_process_item
  /code/modules/invenio-oaiharvester/.tox/c1/lib/python3.6/site-packages/bs4/__init__.py:424: MarkupResemblesLocatorWarning: "http://doi.org/test_doi1" looks like a URL. Beautiful Soup is not an HTTP client. You should probably use an HTTP client like requests to get the document behind the URL, and feed that document to Beautiful Soup.
    MarkupResemblesLocatorWarning

tests/test_tasks.py::test_process_item
  /code/modules/invenio-oaiharvester/.tox/c1/lib/python3.6/site-packages/bs4/__init__.py:424: MarkupResemblesLocatorWarning: "http://doi.org/test_doi2" looks like a URL. Beautiful Soup is not an HTTP client. You should probably use an HTTP client like requests to get the document behind the URL, and feed that document to Beautiful Soup.
    MarkupResemblesLocatorWarning

-- Docs: https://docs.pytest.org/en/stable/warnings.html

---------- coverage: platform linux, python 3.6.15-final-0 -----------
Name                                Stmts   Miss Branch BrPart  Cover
---------------------------------------------------------------------
invenio_oaiharvester/__init__.py        6      0      0      0   100%
invenio_oaiharvester/admin.py         119      0     20      0   100%
invenio_oaiharvester/api.py            93      0     38      0   100%
invenio_oaiharvester/cli.py            63      0     22      0   100%
invenio_oaiharvester/config.py         15      0      0      0   100%
invenio_oaiharvester/errors.py          8      0     12      0   100%
invenio_oaiharvester/ext.py            18      0      8      0   100%
invenio_oaiharvester/harvester.py     643      0    306      0   100%
invenio_oaiharvester/models.py         57      0     16      0   100%
invenio_oaiharvester/signals.py         5      0      0      0   100%
invenio_oaiharvester/tasks.py         282      0    108      0   100%
invenio_oaiharvester/utils.py          98      0     30      0   100%
invenio_oaiharvester/version.py         3      0      0      0   100%
invenio_oaiharvester/views.py          14      0      4      0   100%
---------------------------------------------------------------------
TOTAL                                1424      0    564      0   100%
Coverage XML written to file coverage.xml

=========== 115 passed, 2 skipped, 328 warnings in 276.46s (0:04:36) ===========
___________________________________ summary ____________________________________
  c1: commands succeeded
  congratulations :)
